(function(){"use strict";var e={6969:function(e,t,n){var l=n(9242),a=n(3396);function i(e,t,n,l,i,u){const r=(0,a.up)("BookMarks");return(0,a.wg)(),(0,a.j4)(r)}var u=n(6520),r=(n(7658),n(4870)),o=n(7139),s=n(4605),d=n(3520),c=n(8742),f=n(4786),p=n(3018),h=n(7786),v=n(9762),g=n(1302);function w(e,t){return t<0||e<t}function m(e,t){let n=e.indexOf(t);n>=0&&e.length>0&&e.splice(n,1)}const U={key:0,style:{width:"100%"}};var k=(0,a.aZ)({__name:"Tree",props:{data:{type:Object,required:!0},setting:{type:Object,required:!0}},setup(e){const t=e;function n(e){e.isLeaf?window.location.href=e.url:e.isExpand?(e.isExpand=!1,w(e.deep,t.setting.expandedDeep)?t.setting.defaultUnExpandId.push(e.id):m(t.setting.defaultExpandId,e.id)):(e.isExpand=!0,w(e.deep,t.setting.expandedDeep)?m(t.setting.defaultUnExpandId,e.id):t.setting.defaultExpandId.push(e.id))}const i=(0,r.iH)(t.data);return(e,u)=>{const w=(0,a.up)("tree",!0);return(0,a.wg)(),(0,a.iD)("div",U,[i.value?((0,a.wg)(),(0,a.j4)((0,r.SU)(s.ZP),{key:0,style:(0,o.j5)({display:i.value.isSearchResult?"":"none"})},{default:(0,a.w5)((()=>[(0,a.Wm)((0,r.SU)(d.ZP),{size:"small",quaternary:"",style:{width:"100%","justify-content":"left",padding:"0%"},onClick:u[0]||(u[0]=e=>n(i.value))},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(i.value.title),1)])),icon:(0,a.w5)((()=>[i.value.isLeaf?((0,a.wg)(),(0,a.j4)((0,r.SU)(c.Z),{key:0,src:i.value.icon,lazy:"",width:16,height:16,"preview-disabled":""},null,8,["src"])):((0,a.wg)(),(0,a.j4)((0,r.SU)(f.g),{key:1,size:16,class:(0,o.C_)(i.value.isExpand?"":"rotate")},{default:(0,a.w5)((()=>[(0,a.Wm)((0,r.SU)(g.Z))])),_:1},8,["class"]))])),_:1}),(0,a.Wm)(l.uT,{name:"sub-tree"},{default:(0,a.w5)((()=>[i.value.isLeaf?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)((0,r.SU)(s.ZP),{key:0,"has-sider":"",style:(0,o.j5)({display:i.value.isExpand?"":"none"})},{default:(0,a.w5)((()=>[(0,a.Wm)((0,r.SU)(p.Z),{width:17,style:{padding:"0"}},{default:(0,a.w5)((()=>[(0,a.Wm)((0,r.SU)(h.Z),{vertical:"",style:{height:"100%"}})])),_:1}),(0,a.Wm)((0,r.SU)(v.Z),{"content-style":"witdh:100%"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.value.childrens,(e=>((0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(w,{data:e,setting:t.setting},null,8,["data","setting"])])))),256))])),_:1})])),_:1},8,["style"]))])),_:1})])),_:1},8,["style"])):(0,a.kq)("",!0)])}}}),x=n(89);const y=(0,x.Z)(k,[["__scopeId","data-v-a311136e"]]);var S=y,_=n(5941),Z=n(4404),b=n(2289),W=n(6028),E=n(9518),j=n(1283),O=n(2037),P=n(4719),I=n(2550);const D=(0,a._)("div",null,"展示列数",-1),C=(0,a._)("div",null,"最大展开深度",-1);var R=(0,a.aZ)({__name:"BookMarks",setup(e){const t=(0,r.iH)([]),n=new URL(chrome.runtime.getURL("/_favicon/")).toString(),l=(0,r.qj)({showColumns:4,expandedDeep:4,defaultExpandId:[],defaultUnExpandId:[]}),i=(0,r.iH)({bookMarks:!1,setting:!1}),u=(0,r.iH)(""),o=(0,r.iH)(!1);function s(e){e.isSearchResult=!0;for(let t=0;t<e.childrens.length;++t)s(e.childrens[t])}function c(e,t){if(e.isSearchResult=e.title.includes(t)||e.url.includes(t),!e.isLeaf)if(e.isSearchResult)s(e);else for(let n=0;n<e.childrens.length;++n)e.isSearchResult=c(e.childrens[n],t)||e.isSearchResult;return e.isSearchResult}function p(e){for(let n=0;t.value&&n<t.value.length;++n)c(t.value[n],e)}function h(){for(let e=0;t.value&&e<t.value.length;++e)v(t.value[e])}function v(e){if(-1!=l.defaultExpandId.indexOf(e.id)?e.isExpand=!0:-1!=l.defaultUnExpandId.indexOf(e.id)?e.isExpand=!1:e.isExpand=w(e.deep,l.expandedDeep),!e.isLeaf)for(let t=0;t<e.childrens.length;++t)v(e.childrens[t])}function g(e){const n=(e[0].children[0].children||[]).concat(e[0].children[1]||[]);for(let l=0;n&&l<n.length;++l)t.value.push(m(n[l],1));i.value.bookMarks=!0}function m(e,t){let l=[];for(let n=0;e.children&&n<e.children.length;n++)l.push(m(e.children[n],t+1));return{id:e.id,title:e.title,url:e.url||"",childrens:l,isLeaf:0==l.length,isExpand:!0,icon:n+"?pageUrl="+e.url+"&size=16",deep:t,isSearchResult:!0}}function U(e){let t=JSON.parse(e["setting"]||"{}");t&&(l.showColumns=t.showColumns||4,l.expandedDeep=t.expandedDeep||4,l.defaultExpandId=t.defaultExpandId||[],l.defaultUnExpandId=t.defaultUnExpandId||[],i.value.setting=!0)}function k(){chrome.bookmarks.getTree(g),chrome.storage.local.get("setting").then(U)}function x(e,t,n){if(-1!=n.indexOf(e.id)&&t.push(e.id),!e.isLeaf)for(let l=0;l<e.childrens.length;++l)x(e.childrens[l],t,n)}function y(){const e=[],n=[];for(let a=0;t.value&&a<t.value.length;++a)x(t.value[a],e,l.defaultExpandId),x(t.value[a],n,l.defaultUnExpandId);chrome.storage.local.set({setting:JSON.stringify(l)})}function R(){chrome.storage.local.clear()}return(0,a.YP)((()=>i),(()=>{i.value.bookMarks&&i.value.setting&&h()}),{deep:!0}),(0,a.bv)(k),(e,n)=>((0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)((0,r.SU)(_.Z),{justify:"end"},{default:(0,a.w5)((()=>[(0,a.Wm)((0,r.SU)(Z.Z),{value:u.value,"onUpdate:value":n[0]||(n[0]=e=>u.value=e),placeholder:"Filter","on-change":p},{prefix:(0,a.w5)((()=>[(0,a.Wm)((0,r.SU)(f.g),{size:"20"},{default:(0,a.w5)((()=>[(0,a.Wm)((0,r.SU)(P.Z))])),_:1})])),_:1},8,["value"]),(0,a.Wm)((0,r.SU)(d.ZP),{onClick:n[1]||(n[1]=e=>o.value=!0)},{icon:(0,a.w5)((()=>[(0,a.Wm)((0,r.SU)(f.g),{size:"20"},{default:(0,a.w5)((()=>[(0,a.Wm)((0,r.SU)(I.Z))])),_:1})])),_:1}),(0,a.Wm)((0,r.SU)(b.Z),{show:o.value,"onUpdate:show":n[4]||(n[4]=e=>o.value=e),width:502},{default:(0,a.w5)((()=>[(0,a.Wm)((0,r.SU)(W.Z),null,{header:(0,a.w5)((()=>[(0,a.Uk)(" 设置 ")])),footer:(0,a.w5)((()=>[(0,a.Wm)((0,r.SU)(d.ZP),{onClick:R},{default:(0,a.w5)((()=>[(0,a.Uk)(" 清除配置 ")])),_:1}),(0,a.Wm)((0,r.SU)(d.ZP),{onClick:y},{default:(0,a.w5)((()=>[(0,a.Uk)(" 保存 ")])),_:1})])),default:(0,a.w5)((()=>[(0,a.Wm)((0,r.SU)(_.Z),{vertical:""},{default:(0,a.w5)((()=>[(0,a.Wm)((0,r.SU)(E.Z),{cols:"4"},{default:(0,a.w5)((()=>[(0,a.Wm)((0,r.SU)(j.ZP),{span:"1",style:{display:"flex","align-items":"center"}},{default:(0,a.w5)((()=>[D])),_:1}),(0,a.Wm)((0,r.SU)(j.ZP),{span:"3"},{default:(0,a.w5)((()=>[(0,a.Wm)((0,r.SU)(O.Z),{value:l.showColumns,"onUpdate:value":n[2]||(n[2]=e=>l.showColumns=e),min:1},null,8,["value"])])),_:1})])),_:1}),(0,a.Wm)((0,r.SU)(E.Z),{cols:"4"},{default:(0,a.w5)((()=>[(0,a.Wm)((0,r.SU)(j.ZP),{span:"1",style:{display:"flex","align-items":"center"}},{default:(0,a.w5)((()=>[C])),_:1}),(0,a.Wm)((0,r.SU)(j.ZP),{span:"3"},{default:(0,a.w5)((()=>[(0,a.Wm)((0,r.SU)(O.Z),{value:l.expandedDeep,"onUpdate:value":n[3]||(n[3]=e=>l.expandedDeep=e),min:0},null,8,["value"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["show"])])),_:1}),i.value.bookMarks&&i.value.setting?((0,a.wg)(),(0,a.j4)((0,r.SU)(E.Z),{key:0,style:{width:"100%"},cols:l.showColumns},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.value,((e,t)=>((0,a.wg)(),(0,a.j4)((0,r.SU)(j.ZP),{key:t,span:"1"},{default:(0,a.w5)((()=>[(0,a.Wm)(S,{data:e,setting:l},null,8,["data","setting"])])),_:2},1024)))),128))])),_:1},8,["cols"])):(0,a.kq)("",!0)],64))}});const L=R;var H=L,M=function(e,t,n,l){var a,i=arguments.length,u=i<3?t:null===l?l=Object.getOwnPropertyDescriptor(t,n):l;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)u=Reflect.decorate(e,t,n,l);else for(var r=e.length-1;r>=0;r--)(a=e[r])&&(u=(i<3?a(u):i>3?a(t,n,u):a(t,n))||u);return i>3&&u&&Object.defineProperty(t,n,u),u};let q=class extends u.w3{};q=M([(0,u.Ei)({components:{BookMarks:H}})],q);var z=q;const T=(0,x.Z)(z,[["render",i]]);var Y=T;(0,l.ri)(Y).mount("#app")}},t={};function n(l){var a=t[l];if(void 0!==a)return a.exports;var i=t[l]={exports:{}};return e[l](i,i.exports,n),i.exports}n.m=e,function(){var e=[];n.O=function(t,l,a,i){if(!l){var u=1/0;for(d=0;d<e.length;d++){l=e[d][0],a=e[d][1],i=e[d][2];for(var r=!0,o=0;o<l.length;o++)(!1&i||u>=i)&&Object.keys(n.O).every((function(e){return n.O[e](l[o])}))?l.splice(o--,1):(r=!1,i<u&&(u=i));if(r){e.splice(d--,1);var s=a();void 0!==s&&(t=s)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[l,a,i]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var l in t)n.o(t,l)&&!n.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,l){var a,i,u=l[0],r=l[1],o=l[2],s=0;if(u.some((function(t){return 0!==e[t]}))){for(a in r)n.o(r,a)&&(n.m[a]=r[a]);if(o)var d=o(n)}for(t&&t(l);s<u.length;s++)i=u[s],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(d)},l=self["webpackChunkbookmark"]=self["webpackChunkbookmark"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=n.O(void 0,[998],(function(){return n(6969)}));l=n.O(l)})();
//# sourceMappingURL=app.9e9fa643.js.map